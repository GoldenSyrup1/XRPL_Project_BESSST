{% extends "base.html" %}
{% block content %}

<div class="dashboard-container">

    <div class="balance-box">
        <h2>{{ user.phone }}'s Wallet</h2>

        <p><strong>Wallet Address:</strong> {{ user.wallet_address }}</p>

        <p><strong>XRP Balance:</strong>
            {{ holdings['XRP'] if holdings else 'N/A' }}
        </p>
    </div>


    <div class="balance-box">

        <h3>Send XRP</h3>

        <form method="POST" action="{{ url_for('send_xrp_route') }}">

            <input type="hidden"
                   name="from_phone"
                   value="{{ user.phone }}">

            <input type="text"
                   name="to_phone"
                   placeholder="Recipient Phone"
                   required>

            <input type="number"
                   step="0.000001"
                   name="amount"
                   placeholder="Amount"
                   required>

            <button type="submit">Send XRP</button>

        </form>

    </div>


    <h2>Your NFTs</h2>

    <div class="nft-grid">

        {% for nft in nfts %}
        <div class="nft-card">

            <img src="/{{ nft.image_path }}">

            <p style="font-size:12px;">
                {{ nft.nft_id }}
            </p>

            <form method="POST" action="{{ url_for('create_offer') }}">

                <input type="hidden"
                       name="nft_id"
                       value="{{ nft.nft_id }}">

                <input type="number"
                       name="xrp_amount"
                       placeholder="Price XRP"
                       required>

                <button type="submit">Create Offer</button>

            </form>

        </div>
        {% endfor %}

    </div>

</div>

{% endblock %}